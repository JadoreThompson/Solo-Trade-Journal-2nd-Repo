<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <!-- Import the Lightweight Charts -->
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        body {
          font-family: "Plus Jakarta Sans", sans-serif;
        }
    </style>
</head>
<body>
    <nav>
        <img src="https://media.discordapp.net/attachments/954082449888006184/1243325550924136498/Solo_Journal_Logo_2.png?ex=665110a7&is=664fbf27&hm=8cd6fc23332188d2f3baf2c72f81965b5c771de302307c460eb0fcd19183b36d&=&format=webp&quality=lossless&width=375&height=195" alt="Logo">
    </nav>
    <style>
        nav {
            display: flex;
            justify-content: center;
            align-items: center;
            max-height: 50px;
        }

        nav img {
            display: block;
            max-width: 15%;
        }
    </style>
    <div class="container">
        <h3>All Accounts</h3>
        <div class="table-container">
            <div class="table-item">
                <button onclick="addAccount()">Add Account</button>
            </div>
            <table>
                <thead>
                <tr>
                    <th>Name</th>
                    <th>% Gain</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>James</td>
                    <td>10%</td>
                </tr>
                <tr>
                    <td>James</td>
                    <td>10%</td>
                </tr>

                <tr>
                    <td>James</td>
                    <td>10%</td>
                </tr>
                <tr>
                    <td>James</td>
                    <td>10%</td>
                </tr>
                <tr>
                    <td>James</td>
                    <td>10%</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="chart-card">
            <div id="container" style="width: 100%; height: 100% margin: 0; padding: 0;">
            </div>
        </div>
        <div class="" id="addAccount">
            <div class="overlay-header">
                <div class="overlay-title">
                    <h3>Add Account</h3>
                </div>
                <div class="overlay-close">
                    <button onclick="addAccount()">X</button>
                </div>
            </div>
            <div class="overlay-body">
                <form action="/accounts" methods="post">
                    <div class="form-element">
                        <label for="name">Name:</label><br>
                        <input type="text" value="name" id="name" placeholder="Personal Account">
                    </div>
                    <div class="form-element">
                        <label for="account-login">Account Number:</label><br>
                        <input type="text" value="account-login" id="account-login" placeholder="109908009">
                    </div>
                    <div class="form-element">
                        <label for="account-login">Password</label><br>
                        <input type="text" value="account-login" id="password" placeholder="abcdefg">
                    </div>
                    <div class="form-element">
                        <label for="mt-version">MT-Version</label><br>
                        <input type="text" value="mt-version" id="mt-version" placeholder="4/5">
                    </div>
                    <div class="form-element">
                        <label for="broker">Broker</label><br>
                        <input type="text" value="broker" id="broker" placeholder="IC Markets">
                    </div>
                    <div class="form-element">
                        <label for="broker-server">Broker Server</label><br>
                        <input type="text" value="broker-server" id="broker-server" placeholder="ICMarketsSC-Live01">
                    </div>
                    <button type="submit">Submit</button>
                </form>

                <style>
                    input {
                        height: 2.2rem;
                        width: 100%;
                        max-width: 100%;
                        box-sizing: border-box;
                        border: 1px solid #ccc;
                        padding: 0;
                    }

                    form {
                        width: 100%;
                        padding: 5px;
                    }

                    .form-element {
                        margin-bottom: 10px;
                    }

                    form button {
                        width: 100%;
                        height: 3rem;
                        border-radius: 10px;
                        font-size: 1rem;
                    }
                </style>
            </div>
        </div>
    </div>
    <style>
        body {
            background-color: #ededed;
            color: black;
        }

        .container {
            padding: 10px;
        }

        .table-item {
            padding-bottom: 10px;
        }

        .table-item button {
            background-color: blue;
            color: white;
            border: none;
            border-radius: 12px;
            padding: 8px;
        }

        button {
            font-family: "Plus-Jakarta-Sans", sans-serif;
        }

        .table-container {
            border: 1px solid black;
            background-color: white;
            border-radius: 20px;
            min-height: 70%;
            padding: 10px;
            padding-bottom: 10px;
        }

        table {
            text-align: center;
            width: 100%;
        }

        thead {
            text-decoration: underline;
        }

        #container {
            border-radius: 20px;
            margin-top: 10px;
            min-height: 600px;
            border: 1px solid black;
            background-color: white;
        }

        #addAccount {
            border-radius: 20px;
            border: 1px solid black;
            background-color: white;
            margin: 10px auto;
            padding: 10px;
            width: 70%;
            max-width: 600px;
            display: none;
            z-index: 9999;
            top: 10%;
            margin: auto;
            position: fixed;
        }

        .overlay-header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-align: center;
        }

        .overlay-body {
            justify-content: center;
            align-items: center;
        }

        .overlay-close {
            margin-right: 0;
        }
    </style>

    <script>
        // Add Account function
        function addAccount() {
            var overlay = document.getElementById("addAccount");
            if (overlay.style.display === "none" ) {
                overlay.style.display = "block";
            } else {
                overlay.style.display = "none";

            }
        }

        // Create the chart
        const chart = LightweightCharts.createChart(document.getElementById('chart'), {
          width: 600,
          height: 400,
          layout: {
            backgroundColor: '#ffffff',
            textColor: '#333',
          },
          grid: {
            vertLines: {
              color: '#e1e1e1',
            },
            horzLines: {
              color: '#e1e1e1',
            },
          },
          crosshair: {
            mode: LightweightCharts.CrosshairMode.Normal,
          },
          rightPriceScale: {
            borderColor: '#ccc',
          },
          timeScale: {
            borderColor: '#ccc',
          },
        });

        // Add a line series to the chart
        const lineSeries = chart.addLineSeries({
          color: 'rgba(0, 150, 136, 1)',
          lineWidth: 2,
        });

        // Set the data for the line series
        lineSeries.setData([
          { time: '2023-01-01', value: 50 },
          { time: '2023-01-02', value: 55 },
          { time: '2023-01-03', value: 60 },
          { time: '2023-01-04', value: 58 },
          { time: '2023-01-05', value: 63 },
        ]);

        // Optional: handle window resize to keep the chart responsive
        window.addEventListener('resize', () => {
          const chartContainer = document.getElementById('chart');
          chart.resize(chartContainer.clientWidth, chartContainer.clientHeight);
        });
    </script>
</body>
</html>